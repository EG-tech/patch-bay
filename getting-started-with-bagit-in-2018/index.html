<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Getting Started with BagIt in 2018 - The Patch Bay</title><meta name="description" content="Take two! In December, I hastily wrote an update to an old post about BagIt, the Library of Congress' open-source specification for hierarchical packaging of files to support safe data storage and transfer. The primary motivation for the update was some issues that the Video&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://test.patchbay.tech/getting-started-with-bagit-in-2018/"><link rel="alternate" type="application/atom+xml" href="https://test.patchbay.tech/feed.xml"><link rel="alternate" type="application/json" href="https://test.patchbay.tech/feed.json"><meta property="og:title" content="Getting Started with BagIt in 2018"><meta property="og:site_name" content="The Patch Bay"><meta property="og:description" content="Take two! In December, I hastily wrote an update to an old post about BagIt, the Library of Congress' open-source specification for hierarchical packaging of files to support safe data storage and transfer. The primary motivation for the update was some issues that the Video&hellip;"><meta property="og:url" content="https://test.patchbay.tech//getting-started-with-bagit-in-2018/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://test.patchbay.tech/assets/css/style.css?v=e5ad27e7b330f5e7f7fa9bfb74e8fca4"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://test.patchbay.tech/getting-started-with-bagit-in-2018/"},"headline":"Getting Started with BagIt in 2018","datePublished":"2018-03-14T19:30-04:00","dateModified":"2024-11-09T11:37-05:00","description":"Take two! In December, I hastily wrote an update to an old post about BagIt, the Library of Congress' open-source specification for hierarchical packaging of files to support safe data storage and transfer. The primary motivation for the update was some issues that the Video&hellip;","author":{"@type":"Person","name":"Ethan","url":"https://test.patchbay.tech/authors/ethan/"},"publisher":{"@type":"Organization","name":"Ethan"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://test.patchbay.tech/">The Patch Bay</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://test.patchbay.tech/submission-box/" target="_self">Submission Box</a></li><li><a href="https://test.patchbay.tech/about-the-creator/" target="_self">About</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>Getting Started with BagIt in 2018</h1><div class="feed__meta content__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2018-03-14T19:30" class="feed__date">March 14, 2018</time></div></div></header></div><div class="entry-wrapper content__entry"><p>Take two!</p><p>In December, I hastily wrote an <a href="https://patchbay.tech/2017/12/15/using-bagit-in-2018/">update</a> to an old post about BagIt, the Library of Congress' open-source specification for hierarchical packaging of files to support safe data storage and transfer. The primary motivation for the update was some issues that the Video Preservation course I work with  encountered with my instructions for installing the bagit-python command-line tool, so I wanted to double-check my process there and make sure I was guiding readers correctly. I also figured that it had been a couple years and I could write about new implementations while I was at it. A cursory search turned up a BagIt-for-Ruby library, so I threw that in there, posted, *then* opened up a call for anything I'd missed.</p><p>Uhhhh -  I <a href="https://en.wikipedia.org/wiki/BagIt#Use">missed</a> <a href="https://github.com/joehand/bagit-fs">a</a> <a href="https://en.wikipedia.org/wiki/BagIt#Tools">lot</a>.</p><p>It was at this point, as I sifted through the various scripts, apps, tools and libraries that create bags in some way that I realized I had lost the thread of what I was even trying to summarize or explain.</p><p>Every piece of software using the BagIt spec ever? That, happily, is a fool's errand - the whole point of the spec is that it's super easy and flexible to implement, no matter how short the script. So...there's a lot of implementations.</p><p>Every programming language with an available port/module for creating bags according to the BagIt spec? Mildly interesting for hybrid archivist/developers, but probably of less practical use for preservation students, or the average user/creator just trying to take care of their own files, or archivists that are less programming-inclined. A Ruby module for BagIt is objectively cool and useful - for those working/writing apps and scripts in Ruby. Given that setting up a Ruby dev environment requires some other command-line setup that I didn't even get into, someone's likely not heading straight to that module right out of the gate.</p><p>"Using BagIt" was/is the wrong framework. Too broad, too undefined, and as Ed Summers <a href="https://patchbay.tech/2017/12/15/using-bagit-in-2018/#comment-28">pointed out</a>, antithetical to the spirit in which a simple, open source specification is made in the first place: to allow anyone to use it, anywhere, however they can - not according to one of four or five methods proscribed in a blog post.</p><p>So I am rewriting this post from the mindset, not of "here's all the forms and tools in which BagIt exists", but rather, "ok, so I'm learning what a bag is and why's it useful - how can I make one to get started?"</p><p>Because the contents of a specification are terrific and informative, but in my experience nothing reinforces understanding of a spec like a concrete example. And not only that, but one step further - *making* an example. Technical concepts without hands-on labwork or activities to solidify them get lost - and budding digital preservationists told to use the BagIt spec need somewhere to start.</p><p>So whether you're just trying to securely back up your personal files to a cloud service, or trying to get a GLAM institution's digital repository to be OAIS-compliant, validation and fixity starts at square one. Let me do that as well.</p><h2>What's a bag?</h2><p>Just for refresher's sake, I'm going to re-post here what I wrote back in 2016 - so that this post can stand alone as a primer:</p><blockquote>One of the big challenges in digital archiving is file fixity – a fancy term for checking that the contents of a file have not been changed or altered (that the file has remained “fixed”). There’s all sorts of reasons to regularly verify file fixity, even if a file has done nothing but sit on a computer or server or external hard drive: to make sure that a file hasn’t corrupted over time, that its metadata (file name, technical specs, etc.) hasn’t been accidentally changed by software or an operating system, etc.<p></p><p>But one of the biggest threats to file fixity is when you move a file – from a computer to a hard drive, or over a server. Think of it kind of like putting something in the mail: there are a lot of points in the mailing process where a computer or USPS employee has to read the labeling and sort your mail into the proper bin or truck or plane so that it ends up getting to the correct destination. And there’s a LOT of opportunity for external forces to batter and jostle and otherwise get in your mail’s personal space. If you just slap a stamp on that beautiful glass vase you bought for your mother’s birthday and shove it in the mailbox, it’s not going to get to your mom in one piece.</p><p>So a “bag” is a kind of special digital container – a way of packaging files together to make sure what we get on the receiving end of a transfer is the same thing that started the journey (like putting that nice glass vase in a heavily padded box with “fragile” stamped all over it).</p></blockquote><h2>Sounds great! How do I make a bag?</h2><p>At its core, all you need to make a bag out of a digital file or group of files is an editor capable of making plain text files (.txt) and an ability to generate MD5 checksums. An MD5 generator takes *any* string of digital information - including an entire file - and encodes it into a 128-bit fingerprint; that is, a 32-character string of seemingly "random" letters and numbers. Running an MD5 generator on the same file will always produce the same 32-character string. If the file changes in some way (even some change or edit invisible to the user), the MD5 string will change as well. So this process of generating and checking strings allows you to know whether a file is exactly the same on the receiving end of a transfer as it was at the beginning.</p><p>BagIt bags facilitate this process via a "tag manifest" - a text file including all the digital files contained in the bag (the "data" in question) and their corresponding MD5 checksums. Packaged together (along with some meta information on the BagIt spec and the bag itself), this all allows for convenient fixity checking.</p><p>Convenient, though, in the sense of easing automation. While you *can* put together a bag by hand - generating checksums for each file, copying them into text files to create the manifests, structuring the data and manifests together in BagIt's dictated hierarchy -that is a copy/paste nightmare, and not exactly going to encourage the computer-shy into healthier digipres practice.</p><p>This is why simple scripts and tools and apps are handy. Down the line, when you're creating your own archival workflow, you may want to find or tweak or make your own process for creating bags - but for your first bag, there's no need to reinvent the wheel.</p><p>I'm going to cover intro tools here, for either the command line or GUI user.</p><h2>Command Line Tools</h2><ol><li><a href="https://gist.github.com/edsu/edc19d99299b734fa1b29ce18919a723">this Bash script</a> A simple shell script by Ed that just requires just two arguments: the directory you want to bag, and an output directory (in which to put the bag).Hit the green "Download" button in the corner of the GitHub page, select the ZIP file, then unzip the result. Move the "bagit.sh" file inside to a convenient/accessible location in your computer.Once in Terminal, you can run this bash script by navigating to wherever you put this script, then executing it with: <code class="EnlighterJSRAW" data-enlighter-language="bash">$ ./bagit.sh /path/to/directory /path/to/bag</code> or <code class="EnlighterJSRAW" data-enlighter-language="bash">$ bash bagit.sh /path/to/directory /path/to/bag</code><p></p><p>(the "./" or "bash" commands do the same thing - indicating to the Bash terminal to execute the bagit.sh script)The "/path/to/directory" should be a folder containing all the files you want to be in the bag. Then you will specify the output path for the bag with "/path/to/bag". Both can be accomplished with drag-and-dropping folders from the Finder.</p></li><li><a href="https://libraryofcongress.github.io/bagit-python/">bagit-python</a> Bagit-python is the Library of Congress's officially-supported command line utility for making and working with bags. It requires a working Python interpreter on your computer, plus Python's package manager, "pip". By default, macOS comes with a Python interpreter (2.7.10), but not pip. So we go to the popular command-line Mac package manager Homebrew to put this all together. Sigh. OK. So one of the reasons this post didn't come out last week is that, literally in that same time frame, Homebrew went through....<a href="https://github.com/Homebrew/brew/issues/3859">something</a> with regards to their Python packages and how they behaved with Python 2.x vs Python 3.x vs the Python installation that comes with your Mac. (they've locked/deleted a lot of the conversations and issues now, but it was really the dark side of FOSS projects in there for a bit). I kept trying to check my instructions were correct, and meanwhile, every "$ brew update" was sending my python installs haywire. It seems like they've finally settled, but, I'd still now generally recommend giving <a href="https://docs.brew.sh/Homebrew-and-Python">this page</a> a once-over before working with python-via-homebrew.</li></ol><p>But to summarize: if you want to work with Python 3.x, you install a *package* called "python" and then invoke it with <em>python3</em> and <em>pip3</em> commands. If you want to use Python 2.x, you install a package called "python@2" and then invoke with either <em>python</em> and <em>pip</em> or <em>python2</em> and <em>pip2</em> commands.</p><p>...got it?</p><p>For the purposes of just using the bagit-python command-line tool, at least, it doesn't matter whether you choose Python 2.x or 3.x. It'll work with both. But stick with one or the other through this installation process. So either:</p><p><code class="EnlighterJSRAW" data-enlighter-language="bash">$ brew install python</code></p><p>+ <code class="EnlighterJSRAW" data-enlighter-language="bash">$ sudo pip3 install bagit</code></p><p>or: <code class="EnlighterJSRAW" data-enlighter-language="bash">$ brew install python@2</code></p><p>+ <code class="EnlighterJSRAW" data-enlighter-language="bash">$ sudo pip install bagit</code></p><p>That's it! It's just making sure you have a version of python installed through Homebrew, then use the python package/module installer "pip"to install the bagit-python tool. I highly recommend using admin privileges with "sudo" to globally install and avoid some weird permissions issues that may arise from trying to run python scripts and tools like bagit-python otherwise.</p><p>One installed, look over the help page with <code class="EnlighterJSRAW" data-enlighter-language="bash">$ bagit.py --help</code> to see the command syntax - and all the features that you can cover! Including using different hash generators (rather than MD5), adding metadata, validating existing bags rather than creating new ones, etc.</p><p><strong>*** a note about bagit-java***</strong> If you are using Homebrew and just run <code class="EnlighterJSRAW" data-enlighter-language="bash">$ brew install bagit</code> it will install the bagit-java 4.12.3 library and command-line tool. The LOC no longer supports and doesn't recommend this tool for command line use, and the --help instructions that come with it don't even actually reflect the command syntax you have to use to make it work. So! This isn't a recommendation but just a note for Homebrew users who might get confused about what's happening here.</p><h2>GUIs</h2><p><a href="https://github.com/LibraryOfCongress/bagger">1. Bagger </a>Again, the LOC's official graphical utility program for creating and validating bags. Following the instructions from their GitHub repository linked above, you're going to download a release and then run on macOS by finding and clicking on the "bagger.jar" file (you'll need a working <a href="https://web.archive.org/web/20211129004306/https://java.com/en/">Java</a> install as well).Inside Bagger, once you choose the "Create a Bag" option, Bagger will ask you to choose a "profile" - these just refer to the metadata fields available for inserting more administrative information about your bag and the files therein, within the bag itself. These are really useful for keeping metadata consistent if you're creating a whole bunch of bags, but choosing "&lt;no profile&gt;" is also totally acceptable to get started (you can always re-open bags and insert more metadata later!)"Create Bag in Place" is also a useful option if you don't want (or digital storage limitations even *prevents*) to have two copies of your files (the original + the copy inside the "data" folder in your bag). Rather than copying and creating the bag in a new directory elsewhere, it'll just move around/checksum/restructure the files according to the BagIt spec within the original directory.</p><p>2. <a href="https://www.weareavp.com/products/exactly/">Exactly</a></p><p>A GUI developed by AVP and the University of Kentucky that combines the bagging process with file transfer - which is the presumed end-goal of bagging in any case. To that end, Exactly doesn't "bag in place" - you always have to pick a source file/directory (or sources - Exactly will bundle them all together into one bag) and a destination for the resulting, created bag. Like Bagger, you can also add metadata via custom-designed fields or import templates/profiles. Added support for FTP or SFTP transfers to remote servers (in addition to locally-attached network storage units like a Samba or Windows share) make it a simple starter option for file delivery.</p><p>***************************</p><p>If you're getting started with the BagIt spec, these are the places I'd begin. But as to what implementation *you* can come up with from there, based on your personal/institutional needs...that's up to you!</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on November 9, 2024</p><div class="content__actions"><ul class="content__tag"><li><a href="https://test.patchbay.tech/tags/bagit/">BagIt</a></li><li><a href="https://test.patchbay.tech/tags/software/">Software</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://test.patchbay.tech/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://test.patchbay.tech/authors/ethan/" rel="author">Ethan</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://test.patchbay.tech/mastodon-and-the-digipres-club/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://test.patchbay.tech/media/posts/19/responsive/Screen-Shot-2018-02-22-at-2.29.15-PM-xs.webp" class="lazyload" loading="lazy" alt="" height="232" width="232"></figure><div><span>Previous</span> Mastodon and the DigiPres Club</div></a></div><div class="content__nav-next"><a href="https://test.patchbay.tech/live-capture-plus-and-quicktime-for-java/" class="content__nav-link" rel="next"><div><span>Next</span> Live Capture Plus and QuickTime for Java</div><figure class="content__nav-image"><img src="https://test.patchbay.tech/media/posts/23/responsive/Screen-Shot-2018-04-20-at-10.00.54-AM-xs.webp" class="lazyload" loading="lazy" alt="" height="610" width="610"></figure></a></div></div></div></nav></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item feed__item--centered"><figure class="feed__image related__image"><img src="https://test.patchbay.tech/media/posts/21/windows-logo.jpg" srcset="https://test.patchbay.tech/media/posts/21/responsive/windows-logo-xs.webp 640w, https://test.patchbay.tech/media/posts/21/responsive/windows-logo-sm.webp 768w, https://test.patchbay.tech/media/posts/21/responsive/windows-logo-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="900" width="1600" alt=""></figure><div class="feed__content"><header><div class="feed__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2018-06-22T15:39" class="feed__date">June 22, 2018</time></div><h3 class="feed__title"><a href="https://test.patchbay.tech/doing-digipres-with-windows/">Doing DigiPres with Windows</a></h3></header><p>A couple of times at NYU, a new student would ask me what kind of laptop I would recommend for courses and professional use in video and digital preservation. Maybe their personal one had just died and they were shopping for something new. Often they'd&hellip;</p><a href="https://test.patchbay.tech/doing-digipres-with-windows/" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><figure class="feed__image related__image"><img src="https://test.patchbay.tech/media/posts/18/8cfc89a921bd66f75eacaea74ef03d57.jpg" srcset="https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-xs.webp 640w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-sm.webp 768w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="207" width="295" alt=""></figure><div class="feed__content"><header><div class="feed__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2017-12-15T14:22" class="feed__date">December 15, 2017</time></div><h3 class="feed__title"><a href="https://test.patchbay.tech/using-bagit-in-2018/">Using BagIt in 2018</a></h3></header><p>One of my more popular posts to this blog has been my 2016 round-up of BagIt, the Library of Congress' seminal file packaging specification/software library. My overall explanation for what BagIt is, why it's so important, the still-scattered state of documentation, and the need for&hellip;</p><a href="https://test.patchbay.tech/using-bagit-in-2018/" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><figure class="feed__image related__image"><img src="https://test.patchbay.tech/media/posts/9/screen-shot-2016-09-20-at-9-27-12-am.png" srcset="https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-xs.webp 640w, https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-sm.webp 768w, https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="761" width="1020" alt=""></figure><div class="feed__content"><header><div class="feed__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2016-09-20T10:14" class="feed__date">September 20, 2016</time></div><h3 class="feed__title"><a href="https://test.patchbay.tech/using-bagit/">Using Bagit</a></h3></header><p>do you know how to use Bagit? cause I'm lost the libcongress github is sooo not user friendly I'm missing bagger aren't I ugh ugh I just want to make a bag! That's an email I got a few weeks back from a good friend&hellip;</p><a href="https://test.patchbay.tech/using-bagit/" class="readmore feed__readmore">Continue reading...</a></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://test.patchbay.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://test.patchbay.tech/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>