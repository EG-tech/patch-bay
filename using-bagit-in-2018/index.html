<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Using BagIt in 2018 - The Patch Bay</title><meta name="description" content="One of my more popular posts to this blog has been my 2016 round-up of BagIt, the Library of Congress' seminal file packaging specification/software library. My overall explanation for what BagIt is, why it's so important, the still-scattered state of documentation, and the need for&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://test.patchbay.tech/using-bagit-in-2018/"><link rel="alternate" type="application/atom+xml" href="https://test.patchbay.tech/feed.xml"><link rel="alternate" type="application/json" href="https://test.patchbay.tech/feed.json"><meta property="og:title" content="Using BagIt in 2018"><meta property="og:image" content="https://test.patchbay.tech/media/posts/18/8cfc89a921bd66f75eacaea74ef03d57.jpg"><meta property="og:image:width" content="295"><meta property="og:image:height" content="207"><meta property="og:site_name" content="The Patch Bay"><meta property="og:description" content="One of my more popular posts to this blog has been my 2016 round-up of BagIt, the Library of Congress' seminal file packaging specification/software library. My overall explanation for what BagIt is, why it's so important, the still-scattered state of documentation, and the need for&hellip;"><meta property="og:url" content="https://test.patchbay.tech//using-bagit-in-2018/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://test.patchbay.tech/assets/css/style.css?v=e5ad27e7b330f5e7f7fa9bfb74e8fca4"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://test.patchbay.tech/using-bagit-in-2018/"},"headline":"Using BagIt in 2018","datePublished":"2017-12-15T14:22-05:00","dateModified":"2024-11-09T11:37-05:00","image":{"@type":"ImageObject","url":"https://test.patchbay.tech/media/posts/18/8cfc89a921bd66f75eacaea74ef03d57.jpg","height":207,"width":295},"description":"One of my more popular posts to this blog has been my 2016 round-up of BagIt, the Library of Congress' seminal file packaging specification/software library. My overall explanation for what BagIt is, why it's so important, the still-scattered state of documentation, and the need for&hellip;","author":{"@type":"Person","name":"Ethan","url":"https://test.patchbay.tech/authors/ethan/"},"publisher":{"@type":"Organization","name":"Ethan"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://test.patchbay.tech/">The Patch Bay</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://test.patchbay.tech/submission-box/" target="_self">Submission Box</a></li><li><a href="https://test.patchbay.tech/about-the-creator/" target="_self">About</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Using BagIt in 2018</h1><div class="feed__meta content__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2017-12-15T14:22" class="feed__date">December 15, 2017</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://test.patchbay.tech/media/posts/18/8cfc89a921bd66f75eacaea74ef03d57.jpg" srcset="https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-xs.webp 640w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-sm.webp 768w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-md.webp 1024w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-lg.webp 1366w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-xl.webp 1600w, https://test.patchbay.tech/media/posts/18/responsive/8cfc89a921bd66f75eacaea74ef03d57-2xl.webp 1920w" sizes="88vw" loading="eager" height="207" width="295" alt=""></div></figure></div><div class="entry-wrapper content__entry"><p>One of my more popular posts to this blog has been my <a href="https://patchbaytech.wordpress.com/2016/09/20/using-bagit/">2016 round-up</a> of BagIt, the Library of Congress' seminal file packaging specification/software library. My overall explanation for what BagIt is, why it's so important, the still-scattered state of documentation, and the need for a roundup of implementations for practical use all still stand... but I've realized lately that this post/topic could use a revisit, for a couple of reasons:</p><p>1) A year on, I've done a lot more interaction on GitHub and with open source software, and I regret my general tone when discussing the need for better BagIt documentation. One of the beautiful things about open source projects (and BagIt particularly, since the LoC hosts all the code for the BagIt libraries and several of its implementations on GitHub, which is *made* for collaboration) is the opportunity for direct, constructive feedback. I should have raised my problems with unclear documentation as an issue on GitHub (<a href="https://github.com/LibraryOfCongress/bagit-java/issues/96" target="_blank" rel="noopener">looky here</a>, just as I did while preparing this post), or at least posed my confusion as a question/concern to be improved, rather than as a complaint "behind the backs" of the developers! Etiquette is important, and I will do better at remembering that digital preservation is not an unfeeling collection of tools and tech - there are people behind every line of code and every social media post (OK besides the twitter bots but you know what I mean).</p><p>2) Software changes! It updates! That's the whole point! And instructions that worked even a year or two ago may no longer work in the most contemporary environments. To that end, there have been some changes in macOS systems in particular that make me want to create new installation instructions (particularly for bagit-python) to help people avoid headaches.</p><p>So check out my previous post for why BagIt's great - and then look below for a new roundup of how and why to use its various interfaces and implementations in 2018! (yeah I know it's still 2017, but as much as digital preservation is about constant updating I'd like to future-proof this thing by *at least* two weeks, ya know?)</p><h3><strong>1. <a href="https://github.com/LibraryOfCongress/bagger" target="_blank" rel="noopener">Bagger</a> (GUI)</strong></h3><p>It's Bagger! Still a nice intuitive GUI interface with big honking buttons for the basic tasks of bagging (creation from multiple files or bagging a directory in place, adding metadata, verification/validation). Still probably the best/most intuitive implementation for novice users. And the LoC GitHub repo for Bagger now has specific first-time installation/run instructions for both Windows and Mac. Beautiful!</p><h3><strong>2. <a href="https://github.com/LibraryOfCongress/bagit-java" target="_blank" rel="noopener">bagit-java</a> (library + CLI)</strong></h3><p>The LoC's bagit-java 5.x library can be incorporated into any scripts or applications written in Java (such as the two GUI implementations elsewhere on this list). It can not, however, be interfaced with as a stand-alone command line utility. For that, you can still install and use bagit-java version 4.x, even though that version has obviously been surpassed and is not being actively developed. For installing and using bagit-java via CLI, you can use Homebrew (note that you will need Java installed as well):</p><blockquote>$ brew install bagit</blockquote><p>which installs bagit-java v4.12.3. Documentation for using bagit-java can be found in the utility's help page, invoked with:</p><blockquote>$ bagit --help</blockquote><p>Just a quick note: the --help page incorrectly refers to the command to invoke bagit-java. The help page usage example says to use "$ bag &lt;operation&gt; [operation arguments]", but the correct syntax is in fact "$ bagit &lt;operation&gt; [operation arguments]" ! (per my <a href="https://github.com/LibraryOfCongress/bagit-java/issues/96" target="_blank" rel="noopener">question on GitHub</a> about this, apparently this problem is hard-coded and would require recompiling the Java source rather than just tweaking a doc, so since bagit-java CLI isn't actively maintained, no fix is forthcoming)</p><figure class="alignnone size-full wp-image-3067"><img loading="lazy" src="https://test.patchbay.tech/media/posts/18/screen-shot-2017-12-15-at-11-54-15-am.png" alt="Screen Shot 2017-12-15 at 11.54.15 AM.png" width="1442" height="939" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-xs.webp 640w, https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-sm.webp 768w, https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-md.webp 1024w, https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-lg.webp 1366w, https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-xl.webp 1600w, https://test.patchbay.tech/media/posts/18/responsive/screen-shot-2017-12-15-at-11-54-15-am-2xl.webp 1920w"></figure><h3><strong>3. <a href="https://github.com/LibraryOfCongress/bagit-python" target="_blank" rel="noopener">bagit-python</a> (library + CLI)</strong></h3><p>So, this section is really less an update on bagit-python and more an update on python itself. Bagit-python can still be used either as a library to integrate into scripts and applications written in python, or as stand-alone command line utility. Your preference for using bagit-java or bagit-python in the CLI could be decided by looking at both utilities' help pages. In either case, if you are interested in using/installing bagit-python, changes in recent macOS versions have meant that my previous instructions created more headaches than intended.</p><p>(Thanks to the brave MIAP students in Video Preservation who discovered and tried to deal with these inconsistencies!!)</p><p>So, for explanation: starting with OSX 10.11 (El Capitan), Apple introduced a feature called <a href="https://support.apple.com/en-us/HT204899" target="_blank" rel="noopener">System Integrity Protection</a>, nominally to keep unverified or malevolent applications downloaded from the internet from messing with critical OS-installed system software. What this means is, without futzing around a lot with permissions (which is not a great idea for a novice user), using a package manager like Homebrew winds up with some software in the OS-controlled "/usr" directory and its subfolders, and some software in the user- or package-manager-controlled "/usr/local" directory and its subfolders.</p><p>My previous instructions, which directed people to mix the default macOS-installed version of Python with the user-installed versions of pip (python's package manager) and bagit-python, generated a whole bunch of permissions issues.</p><p>The solution? Stay away from the macOS python altogether and install all components with a package manager to keep the installation contained within "/usr/local".</p><p>So, assuming you have Homebrew installed:</p><ol><li><blockquote>$ brew install python</blockquote><p>This will install Homebrew's Python 2.x package (currently 2.7.14), which includes the pip package manager by default (macOS' Python package does *not* include pip by default). <strong>Note however!</strong> Since your Mac already came with a python installation (at /usr/bin/python), Homebrew renames its versions "python2" and "pip2" to avoid confusion/overwriting. (so its commands/binaries live at /usr/local/bin/python2 and /pip2)</p></li><li><blockquote>$ sudo pip2 install bagit</blockquote><p>Although "sudo" shouldn't be necessary here, I've encountered some errors when not using it. So I think "pip2" may still mess with some files outside of /usr/local. Best to err on the side of using "sudo" and entering your admin password - there shouldn't be any issue with doing so.</p><p>That's it! bagit-python is now installed. You can invoke bagit-python commands with</p></li></ol><blockquote>$ bagit.py [path/to/directory]</blockquote><p>just as before. Check out the help page with the "--help" flag for more info.</p><p>(If you already tried to install bagit-python with the previous instructions, you will likely need to do some cleanup in the /usr folder to clear everything out and stop throwing errors. If you need help or advice doing this, feel free to get in touch!!)</p><h3><strong>4. <a href="https://github.com/tipr/bagit" target="_blank" rel="noopener">BagIt for Ruby</a> (library + CLI)</strong></h3><p>The "bagit-ruby" implementation has been expanded and documented since last year! If you are interested in including a BagIt module in a Ruby application/script, or using this version via the command line, you'll first need to install Ruby:</p><blockquote>$ brew install ruby</blockquote><p>Which will include Ruby's built-in package manager, gem.</p><blockquote>$ gem install bagit validatable</blockquote><p>Note that you can't install this Ruby package and the Homebrew package of bagit-java at the same time, as you'll get a collision with them named the same thing in /usr/local/bin. Once downloaded/installed with gem, the BagIt for Ruby CLI is documented at:</p><blockquote>$ bagit --help</blockquote><p>....but it's real basic, even compared to the CLI for bagit-python. This particular implementation is probably most ideal for its library and incorporation in Ruby scripts/apps, not necessarily for direct command line interfacing.</p><h3><strong>5. <a href="https://web.archive.org/web/20171104034256/https://www.avpreserve.com/products/exactly/" target="_blank" rel="noopener">Exactly</a> (GUI)</strong></h3><p>Not much more to say about AVPreserve's packaging/transfer application since last year - but the combined ability to not just bag, but deliver or receive directories over standard network protocols still make it a great option for those on Mac or Windows and in need of a simple workflow that combines two major ingest steps (bagging and delivery) into one quick and easy tool.</p><h3><strong>6. <a href="https://github.com/LibraryOfCongress/bagger-js" target="_blank" rel="noopener">bagger-js</a> (experimental library + web app)</strong></h3><p>Likewise, the LoC's BaggerJS library/app could serve as both bagging and delivery system, via a web browser interface instead of a stand-alone, downloaded app. It's basically "bagit-javascript" - that is, the BagIt library written in JavaScript (which is a web programming language entirely separate from Java). I assume it's referred to as "bagger-js" because in the LoC's naming system, "bagger" implies a GUI, whereas "bagit" is just the underlying library or CLI.</p><p>Bagger-js is still referred to in the LoC GitHub repo as "experimental", so the library and accompanying <a href="https://libraryofcongress.github.io/bagger-js/" target="_blank" rel="noopener">demo web interface</a> (which can bag a local directory and send it to a remote server compliant with Amazon's s3 protocol) are not production-ready like Bagger or the other BagIt libraries/interfaces. But, again, all the work that they've done so far is right there and available to adapt/incorporate into your own JavaScript/web app projects!</p><p><strong>7. other apps</strong></p><p>Of course, there are likely a number of applications or other pieces of software that incorporate BagIt as one piece or microservice of a larger workflow/system. <a href="https://www.archivematica.org/en/" target="_blank" rel="noopener">Archivematica's</a> a major one that I'm aware of. Maybe you have another! Feel free to let me know what I've missed.</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on November 9, 2024</p><div class="content__actions"><ul class="content__tag"><li><a href="https://test.patchbay.tech/tags/bagit/">BagIt</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://test.patchbay.tech/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://test.patchbay.tech/authors/ethan/" rel="author">Ethan</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://test.patchbay.tech/classroom-access-to-interactive-dvds/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://test.patchbay.tech/media/posts/17/responsive/screen-shot-2017-09-29-at-12-44-29-pm-xs.webp" class="lazyload" loading="lazy" alt="" height="586" width="586"></figure><div><span>Previous</span> Classroom Access to Interactive DVDs</div></a></div><div class="content__nav-next"><a href="https://test.patchbay.tech/mastodon-and-the-digipres-club/" class="content__nav-link" rel="next"><div><span>Next</span> Mastodon and the DigiPres Club</div><figure class="content__nav-image"><img src="https://test.patchbay.tech/media/posts/19/responsive/Screen-Shot-2018-02-22-at-2.29.15-PM-xs.webp" class="lazyload" loading="lazy" alt="" height="232" width="232"></figure></a></div></div></div></nav></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2018-03-14T19:30" class="feed__date">March 14, 2018</time></div><h3 class="feed__title"><a href="https://test.patchbay.tech/getting-started-with-bagit-in-2018/">Getting Started with BagIt in 2018</a></h3></header><p>Take two! In December, I hastily wrote an update to an old post about BagIt, the Library of Congress' open-source specification for hierarchical packaging of files to support safe data storage and transfer. The primary motivation for the update was some issues that the Video&hellip;</p><a href="https://test.patchbay.tech/getting-started-with-bagit-in-2018/" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><figure class="feed__image related__image"><img src="https://test.patchbay.tech/media/posts/9/screen-shot-2016-09-20-at-9-27-12-am.png" srcset="https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-xs.webp 640w, https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-sm.webp 768w, https://test.patchbay.tech/media/posts/9/responsive/screen-shot-2016-09-20-at-9-27-12-am-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="761" width="1020" alt=""></figure><div class="feed__content"><header><div class="feed__meta"><a href="https://test.patchbay.tech/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2016-09-20T10:14" class="feed__date">September 20, 2016</time></div><h3 class="feed__title"><a href="https://test.patchbay.tech/using-bagit/">Using Bagit</a></h3></header><p>do you know how to use Bagit? cause I'm lost the libcongress github is sooo not user friendly I'm missing bagger aren't I ugh ugh I just want to make a bag! That's an email I got a few weeks back from a good friend&hellip;</p><a href="https://test.patchbay.tech/using-bagit/" class="readmore feed__readmore">Continue reading...</a></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://test.patchbay.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://test.patchbay.tech/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>