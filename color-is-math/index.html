<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Color is Math - The Patch Bay</title><meta name="description" content="I know, I hate to break it to you. I'm not thrilled about it either - one of my favorite memories from high school is walking straight up to my Statistics teacher on the last day of senior year and proudly announcing that it was&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://eg-tech.github.io/patch-bay/color-is-math/"><link rel="alternate" type="application/atom+xml" href="https://eg-tech.github.io/patch-bay/feed.xml"><link rel="alternate" type="application/json" href="https://eg-tech.github.io/patch-bay/feed.json"><meta property="og:title" content="Color is Math"><meta property="og:image" content="https://eg-tech.github.io/patch-bay/media/posts/24/color-wheel-e1531601233532.jpg"><meta property="og:image:width" content="500"><meta property="og:image:height" content="476"><meta property="og:site_name" content="The Patch Bay"><meta property="og:description" content="I know, I hate to break it to you. I'm not thrilled about it either - one of my favorite memories from high school is walking straight up to my Statistics teacher on the last day of senior year and proudly announcing that it was&hellip;"><meta property="og:url" content="https://eg-tech.github.io/patch-bay//color-is-math/"><meta property="og:type" content="article"><link rel="stylesheet" href="https://eg-tech.github.io/patch-bay/assets/css/style.css?v=e5ad27e7b330f5e7f7fa9bfb74e8fca4"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://eg-tech.github.io/patch-bay/color-is-math/"},"headline":"Color is Math","datePublished":"2018-07-16T13:53-04:00","dateModified":"2024-11-09T11:37-05:00","image":{"@type":"ImageObject","url":"https://eg-tech.github.io/patch-bay/media/posts/24/color-wheel-e1531601233532.jpg","height":476,"width":500},"description":"I know, I hate to break it to you. I'm not thrilled about it either - one of my favorite memories from high school is walking straight up to my Statistics teacher on the last day of senior year and proudly announcing that it was&hellip;","author":{"@type":"Person","name":"Ethan","url":"https://eg-tech.github.io/patch-bay/authors/ethan/"},"publisher":{"@type":"Organization","name":"Ethan"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://eg-tech.github.io/patch-bay/">The Patch Bay</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://eg-tech.github.io/patch-bay/submission-box/" target="_self">Submission Box</a></li><li><a href="https://eg-tech.github.io/patch-bay/about-the-creator/" target="_self">About</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Color is Math</h1><div class="feed__meta content__meta"><a href="https://eg-tech.github.io/patch-bay/authors/ethan/" class="feed__author">Ethan</a> <time datetime="2018-07-16T13:53" class="feed__date">July 16, 2018</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://eg-tech.github.io/patch-bay/media/posts/24/color-wheel-e1531601233532.jpg" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color-wheel-e1531601233532-2xl.webp 1920w" sizes="88vw" loading="eager" height="476" width="500" alt=""></div></figure></div><div class="entry-wrapper content__entry"><p>I know, I hate to break it to you. I'm not thrilled about it either - one of my favorite memories from high school is walking straight up to my Statistics teacher on the last day of senior year and proudly announcing that it was the last time I was ever going to be in a math class. (Yes, I do feel a bit guilty about the look of befuddled disappointment on his face, but by god I was right)</p><p>But it's true: at least when it comes to video preservation, color is math. Everything else you thought you knew about color - that it's light, that you get colors by mixing together other colors, that it's pretty - is irrelevant.</p><figure class="size-full wp-image-3350"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/color_bars.jpg" alt="" width="500" height="333" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-2xl.webp 1920w"></figure>LIES<p></p><p>Just now, you thought you were looking at color bars? Wrong. Numbers.</p><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/256_colors_bg.png"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/256_colors_bg.png" alt="" width="642" height="444" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/256_colors_bg-2xl.webp 1920w"></a>nooooooooooooooooooooooooooooooooooooooo</p><p>When I first started learning to digitize analog video, the concept of <em>luminance </em>and brightness made sense. Waveform monitors made sense. A bright spot in a frame of video shows up as a spike on the waveform in way that appeases visual logic. When digitizing, you wanted to keep images from becoming too bright or too dark, lest visual details at these extremes be lost in the digital realm. All told, pretty straightforward.</p><p>Vectorscopes and chrominance/color information made less sense. There were too many layers of abstraction, and not just in "reading" the vectorscope and translating it to what I was seeing on the screen - there was something about the vocabulary around color and color spaces, full of ill-explained and overlapping acronyms (as I have learned, the only people who love their acronyms more than moving image archivists and metadata specialists are video engineers).</p><p>I'd like to sift through some of the concepts, redundancies, and labeling/terminology that threw me off personally for a long time when it came to color.</p><h2>CIE XYZ OMG</h2><blockquote><em>Who in the rainbow can draw the line where the violet tint ends and the orange tint begins? Distinctly we see the difference of the colors, but where exactly does the one first blendingly enter into the other? So with sanity and insanity.</em><p></p><p>—<em>Herman Melville</em>, Billy Budd</p></blockquote><p>I think it might help if we start very very broad in thinking about color before narrowing in on interpreting color information in the specific context of video.</p><p>In the early 20th century, color scientists attempted to define quantitative links between the visible spectrum of electromagnetic wavelengths and the physiological perception of the human eye. In other words - in the name of science, they wanted to standardize the color "red" (and all the other ones too I guess)</p><figure class="size-large"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/three-colors-red-valentine.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/three-colors-red-valentine.jpg" width="1024" height="551" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/three-colors-red-valentine-2xl.webp 1920w"></a></figure>Though we all know it's the best one, right<p></p><p>Given the <a href="https://blog.xkcd.com/2010/05/03/color-survey-results/">insanely subjective process</a> of assigning names to colors, how do you make sure that what you and I (or more importantly, two electronics manufacturers) call "red" is the same? By assigning an objective system of numbers/values to define what is "red" - and orange, yellow, green, etc. etc. - based on how light hits and is interpreted by the human eye.</p><p>After a number of experiments in the 1920s, the International Commission on Illumination (abbreviated CIE from the French - like FIAF) developed in 1931 what is called the CIE XYZ color space: a mathematical definition of, in theory, all color visible to the human eye. The "X", "Y" and "Z" stand for specific things that are not "colors" exactly, so I don't even want to get into that here.</p><figure class="aligncenter size-large"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/CIExy1931.png"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/CIExy1931.png" width="1140" height="1260" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/CIExy1931-2xl.webp 1920w"></a></figure>The important thing about the CIE XYZ color space - you can't really "see" it. The limitations of image reproduction technology mean there will always be tangible limits standing between you and the full CIE XYZ gamut (outside of, maybe, a color scientist's lab, but I'm not even convinced of that). Consider that graph above: even though it's colored in for illustrative purposes, that's not actually <em>every color you can possibly see</em> in there. The actual wavelengths of light produced, and therefore colors represented, by your computer's LED screen encompasses a much much more limited range of values.<p></p><p>tl;dr your computer screen, compared to <em>the mathematical limits of the natural world</em> - sucks.</p><p>That's to be expected though! Practical implementations of <em>any</em> standard will always be more limited than an abstract model.</p><figure class="size-large"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/pm2.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/pm2.jpg" width="1494" height="798" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/pm2-2xl.webp 1920w"></a></figure>*cough*<p></p><p>So even if it basically only exists in theory (and in the unbounded natural world around us), the CIE XYZ color space and its definition of color values served as the foundation for most color spaces that followed it. A <strong>color space</strong> is the system for creating/reproducing color employed by any particular piece of technology. Modern color printers, for example, use the CMYK color space: a combination of four color primaries (cyan, magenta, yellow, and "key"/black) that when mixed together by certain, defined amounts, create other colors, until you have hard copies of your beautiful PowerPoint presentation ready to distribute.</p><p>Again, just like CIE XYZ, <span style="text-decoration: underline;">any</span> color space you encounter is math - it's just a method of saying <em>this</em> number means orange and <em>this</em> number means blue and <em>this </em>number means taupe. But, just like with all other kinds of math, color math rarely stays that straightforward. The way each color space works, the way its values are calculated, and the gamut it can cover largely depend on the vagaries and specific limitations of the piece of technology it's being employed with/on. In the case of CIE XYZ, it's the human eye - in the case of CMYK, it's those shitty ink cartridges on your desktop laser printer that are somehow empty again even though you JUST replaced them.</p><figure class="wp-image-3349"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/ink-levels.jpg" alt="" width="555" height="374" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/ink-levels-2xl.webp 1920w"></figure>More lying liars who lie<p></p><p>So what about analog video? What are the specific limitations there?</p><h2>Peak TV: Color in Analog Video</h2><p>Video signals and engineering are linked pretty inextricably with the history of television broadcasting, the first "mass-market" application of video recording.</p><p>So tune in to what you know of television history. Much like with film, it started with black-and-white images only, right? That's because it's not just budding moving image archivists who find brightness easier to understand and manipulate in their practical work - it was the same for the engineers figuring out how to create, record, and broadcast a composite video signal. It's much easier for a video signal to tell the electron gun in a CRT television monitor what to do if frame-by-frame it's only working with one variable: "OK, be kinda bright here, now REALLY BRIGHT here, now sorta bright, now not bright at all", etc.</p><p>Compare that to: "OK, now display this calculated sum of three nonlinear tristumulus primary component values, now calculate it again, and again, and oh please do this just as fast when we just gave you the brightness information you needed".</p><p>So in first rolling out their phenomenal, game-changing new technology, television engineers and companies were fine with "just" creating and sending out black-and-white signals. (Color film was only just starting to get commonplace anyway, so it's not like moving image producers and consumers were clamoring for more - yet!)</p><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15.jpg" alt="" width="510" height="383" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/george-burns-and-gracie-allen-59b6cd81cf8fdb53cf5fac1a94c7867182f6b269-s800-c15-2xl.webp 1920w"></a>Who needs color video when you have these two, said America</p><p>But as we moved into the early 1950s, video engineers and manufacturing companies needed to push their tech forward (capitalism, competition, spirit of progress, yadda yadda), with color signal. But consider this - now, not only did they need to figure out how to create a color video signal, they needed to do it while staying compatible with the entire system and market of black-and-white broadcasting. The broadcast companies and the showmakers and the government regulation bodies and the consumers who bought TVs and everyone else who JUST got this massive network of antennas and cables and frequencies and television sets in place were not going to be psyched to re-do the entire thing only a few years later to get color images. Color video signal needed to work on televisions that had been designed for black-and-white.</p><p>From the CIE research of the '20s and '30s, video engineers knew that both the most efficient and wide-ranging (in terms of gamut of colors covered) practical color spaces were composed by mixing values based on primaries of red, green, and blue (RGB).</p><figure class="wp-image-3352"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/rbg-book-cover.jpg" alt="" width="504" height="372" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/rbg-book-cover-2xl.webp 1920w"></figure>No no no no notorious<p></p><p>But in a pure RGB color space, brightness values are not contained on just one component, like in composite black-and-white video - each of the three primary values is a combination of both chrominance <em>and</em> luminance (e.g. the <em>R</em> value is a <span style="text-decoration: underline;">sum</span> of two other values that mean "how red is this" and "how bright is this", respectively). If you used such a system for composite analog video, what would happen if you piped that signal into a black-and-white television monitor, designed to only see and interpret one component, luminance? You probably would've gotten a weirdly dim and distorted image, if you got anything at all, as the monitor tried to interpret numbers containing <em>both</em> brightness and color as <em>just</em> brightness.</p><p>This is where <strong><em>differential</em> </strong>color systems came into play. What engineers found is that you could still create a color composite video signal from three component primaries - but instead of those being chrominance/luminance-mixed RGB values, you could keep the brightness value for each video frame isolated in its own <em>Y′ </em>component (which Charles Poynton would <a href="http://poynton.ca/PDFs/YUV_and_luminance_harmful.pdf">insist</a> I now call <strong><em>luma</em></strong>, for reasons of.....math), while all the new chroma/color information could be contained in two channels instead of three: a blue-difference (<em>B′</em><em>-Y′) </em>and a red-difference (<em>R′-Y′</em>) component. By knowing these <em>three</em> primaries, you can actually recreate <em>four </em>values: brightness (luma) plus three chroma values (R, G, and B). Even though there's strictly speaking no "green" value specified in the signal, a color television monitor can figure out what this fourth value <em>should</em> be based on those differential calculations.</p><p>For television broadcasting, keeping the luma component isolated meant that you could still pipe a color composite video signal into a black-and-white TV, and it would still just display a correct black-and-white image: it  just used the values from the luma component and discarded the two color difference components. Meanwhile, new monitors designed to interpret all three components correctly would display a proper color image.</p><p>This basic model of using two color difference components for video was so wildly efficient and successful that <em>we still use color spaces based on this model today!</em> Even as we passed from analog video signals into digital.</p><figure class="wp-image-3353 size-full"><a href="https://www.youtube.com/watch?v=fMiMz1uGCXI"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube.png" alt="" width="854" height="480" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Screenshot_2018-07-15-LGR-HDMI-on-a-Black-White-TV-YouTube-2xl.webp 1920w"></a></figure>Making it possible with adapters and converters, to, say, play Fallout 4 on a B&amp;W TV<p></p><h2>Lookup Table: "YUV"</h2><p>...but you may have noticed that I just said "basic model" and "color space<em>s"</em>, as in plural. Uh oh.</p><p>As if this wasn't all complicated enough, video engineers still couldn't all just agree on one way to implement the <em>Y′, B′-Y′,</em> <em>R′-Y′</em> model. Engineers working within the NTSC video standard needed something different than those working with PAL, who needed something different than SECAM. The invention of <em><strong>component</strong></em><strong> video signal</strong><strong>, </strong>where these three primaries were each carried on their own <a href="https://amiaopensource.github.io/cable-bible/#component_ypbpr">signal/cable</a>, rather than mixed together in a single, <a href="https://amiaopensource.github.io/cable-bible/#composite">composite</a> signal, also required new adjustments. And digital video introduced even more opportunities for sophisticated color display.</p><figure class="wp-image-3366"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/2sC77htRguc5apFhhi2LaMQGqC5-1024x576.jpg" alt="" width="550" height="310" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/2sC77htRguc5apFhhi2LaMQGqC5-1024x576-2xl.webp 1920w"></figure>I mean just look at this gamut<p></p><p>So you got a whole ton of related color spaces, each using the same color difference model, but employing different math to get there. In each case, the "scale factors" of the two color difference signals are adjusted to optimize the color space for the particular recording technology or signal in question. Even though they *always* basically represent blue-difference and red-difference components, the letters change because the math behind them is slightly different.</p><p>So here is a quick guide to some common blue/red difference color spaces, and the specific video signal/context they have been employed with:</p><ul><li>Y′UV = Composite analog PAL video</li><li>Y′IQ = Composite analog NTSC video</li><li>Y′D<sub>B</sub>D<sub>R</sub> = Composite analog SECAM video</li><li>Y′P<sub>B</sub>P<sub>R</sub> = Component analog video</li><li>Y′C<sub>B</sub>C<sub>R</sub> = Component digital video - intended as digital equivalent/conversion of YP<sub>B</sub>P<sub>R</sub>, and also sometimes called "YCC"</li><li>PhotoYCC (Y′C<sub>1</sub>C<sub>2</sub>) = Kodak-developed digital color space intended to replicate the gamut of film on CD; mostly for still images, but could be encountered with film scans (whereas most still image color spaces are fully RGB rather than color-difference!)</li><li>xvYCC = component digital video, intended to take advantage of post-CRT screens (still relatively rare compared to Y′C<sub>B</sub>C<sub>R</sub>, though), sometimes called "x.v. Color" or "Extended-gamut YCC"</li></ul><p>And now a PSA for all those out there who use ffmpeg or anyone who's heard/seen the phrase "uncompressed YUV" or similar when looking at recommendations for digitizing analog video. You might be confused at this point: according to the table above, why are we making a "YUV" file in a context where PAL video might not be involved at all???</p><p>As Charles Poynton again helpfully lays out in this really <a href="http://poynton.ca/PDFs/YUV_and_luminance_harmful.pdf">must-read piece</a> - it literally comes down to sloppy naming conventions. For whatever reason, the phrase "YUV" has now loosely been applied, particularly in the realm of digital video and images, to pretty much <em>any color space that uses the general B′-Y′ and R′-Y′ color difference model</em>.</p><p>I don't know the reasons for this. Is it because Y′UV came first? Is it because, as Poynton lays out, certain pieces of early digital video software used ".yuv" as a file extension? Is it a peculiar Euro-centric bias in the history of computing? The comments below are open for your best conspiracy theories.</p><figure><a href="https://eg-tech.github.io/patch-bay/media/posts/24/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s.jpg" width="503" height="377" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/6a0348d5-9ec0-41bc-9b18-357d9c68b089_mw800_mh600_s-2xl.webp 1920w"></a></figure>By which I mean Kirov conspiracy theories or GTFO<p></p><p>I don't know the answer, but I know that in the vast vast majority of cases where you see "YUV" in a digital context - ffmpeg, Blackmagic, any other kind of video capture software - that video/file almost certainly actually uses the Y′C<sub>B</sub>C<sub>R </sub>color space.</p><h2>Gamma Correction, Or How I Learned To Stop Worrying and Make a Keyboard Shortcut for "Prime"</h2><p>Another thing that I must clarify at this point. As evidenced by this "YUV" debacle, some people are <em>really picky</em> about color space terminology and others are not. For the purposes of this piece, I have been really picky, because for backtracking through this history it's easier to understand precise definitions and <em>then</em> enumerate the ways people have gotten sloppy. You have to learn to write longhand before shorthand.</p><p>So you may have noticed that I've been picky about using proper, capitalized subscripts in naming color spaces like Y′C<sub>B</sub>C<sub>R</sub>. In their rush to write hasty, mean-spirited posts on the Adobe forums, you may see people write things like "YCbCr" or "Y Cb Cr" or "YCC" or any other combination of things. They're all trying to say the same thing, but they basically can't be bothered to find or set the subscript shortcuts on their keyboard.</p><figure class="size-full"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/alt-codes.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/alt-codes.jpg" width="545" height="514" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/alt-codes-2xl.webp 1920w"></a></figure>which, I mean, I don't entirely blame 'em<p></p><p>In the same vein, you may have noticed these tiny tick marks (′) next to the various color space components I've described. That is not a mistake nor an error in your browser's character rendering nor a spot on your screen (I hope). Nor is it any of the following things: an apostrophe, a single quotation mark, or an accent mark.</p><p>This little ′ is a <a href="https://en.wikipedia.org/wiki/Prime_%28symbol%29">prime</a>. In this context it indicates that the luma or chroma value in question has been <em><strong>gamma-corrected</strong></em><em>. </em>The issue is - you guessed it - math.</p><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/e8fe4190-e032-0131-bfe3-0eb233c768fb.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/e8fe4190-e032-0131-bfe3-0eb233c768fb.jpg" alt="" width="500" height="300" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/e8fe4190-e032-0131-bfe3-0eb233c768fb-2xl.webp 1920w"></a>Curse you, Mathemagician</p><p>The human eye perceives brightness in a nonlinear fashion. Let's say the number "0" is the darkest thing you can possibly see and "10" is the brightest. If you started stepping up from zero in precisely regular increments, e.g. 1, 2, 3, 4, etc., all the way up to ten, your eyes would weirdly not <em>perceive</em> these changes in brightness in a straight linear fashion - that is, you would *think* that some of the increases were more or less drastic than the others, even though mathemetically speaking they were all exactly the same. Your eyes are just more sensitive to certain parts of the spectrum.</p><p><a href="https://en.wikipedia.org/wiki/Gamma_correction">Gamma correction</a> adjusts for this discrepancy between nonlinear human perception and the kind of linear mathematical scale that technology like analog video cameras or computers tend to work best with. Don't ask me how it does that - I took Statistics, not Calculus.</p><p>The point is, these color spaces adjust their luma values to account for this, and that's what the symbol indicates. It's pretty important - but then again, prime symbols are usually not a readily-accessible shortcut that people have figured out on their keyboards. So they just skip them and write things like... "YUV". And I'm not just talking hasty forum posts at this point - I double-dare you to try and reconstruct everything I've just told you about color spaces from <a href="https://en.wikipedia.org/wiki/YUV">Wikipedia</a>.</p><p>Which, come to think of it, the reason why "YUV" won out as a shorthand term for Y′C<sub>B</sub>C<sub>R</sub> may very well be just that it doesn't involve any subscripts or primes. Never underestimate ways programmers will look to solve inefficiencies!</p><figure class="aligncenter size-full"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/microsoft-password-banning-system.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/microsoft-password-banning-system.jpg" width="400" height="423" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/microsoft-password-banning-system-2xl.webp 1920w"></a></figure><p></p><h2>Reading a Vectorscope - Quick Tips</h2><p>This is all phenomenal background information, but when it gets down to it, a lot of people digitizing video just want to know how to read a vectorscope so they can tell if the color in their video signal is "off".</p><figure class="aligncenter size-full wp-image-3350"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/color_bars.jpg" alt="" width="500" height="333" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_bars-2xl.webp 1920w"></figure><figure class="aligncenter"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/SMPTE_color_bars_on_NTSC_vectorscope.png"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/SMPTE_color_bars_on_NTSC_vectorscope.png" width="442" height="421" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/SMPTE_color_bars_on_NTSC_vectorscope-2xl.webp 1920w"></a></figure><p></p><p>Here we have a standard SMPTE  NTSC color bars test pattern as it reads on a properly calibrated vectorscope. Each of the six color bars (our familiar red, green, and blue, as well as cyan, yellow, and magenta) are exactly as they should, as evidenced by the dots/points falling right into the little square boxes indicated for them (the white/gray bar should actually be the point smack in the center of the vectorscope, since it contains no chroma at all).</p><p>The <strong><em>saturation </em></strong>of the signal will be determined by how far away from the center of the vectorscope the dots for any given frame or pixel of video fall. For example, here is an oversaturated frame - the chroma values for this signal are too high, which you can tell because the dots are extending out way <em>beyond</em> the little labeled boxes.</p><figure class="aligncenter"><a href="https://eg-tech.github.io/patch-bay/media/posts/24/safe081.jpg"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/safe081.jpg" width="402" height="385" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/safe081-2xl.webp 1920w"></a></figure>Meanwhile, an undersaturated image will just appear as a clump towards the center of the vectorscope, never spiking out very far (and a black-and-white image should in fact <em>only</em> do that!)<p></p><p>Besides saturation, a vectorscope can also help you see if there is an error in <strong><em>phase </em></strong>or <em><strong>hue </strong></em>(both words refer to the same concept). As hopefully demonstrated by our discussion of color spaces and primaries, colors generally relate to each other in set ways - and the circular, wheel-like design of the vectorscope reflects that. If the dots on a vectorscope appear <em>rotated</em> - that is, dots that should be spiking out towards the "R"/red box, are instead headed for the "Mg"/magenta box - that indicates a <strong><em>phase</em> <em>error</em></strong>. In such a case, any elephants you have on screen are probably going to start <em>all</em> looking like pink elephants.</p><p>The problem is, even with these "objective" measurements, color remains a stubbornly subjective thing. Video errors in saturation and phase may not be so wildly obvious as the examples above, making them a tricky thing to judge, especially against artistic intent or the possibility of an original recording being made with mis-calibrated equipment. Again, you can find plenty of tutorials and opinions on the subject of color correction online from angry men, but I always just tell everyone to use your best judgement. It's as good as anyone else's!</p><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/dress_color.png"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/dress_color.png" alt="" width="390" height="336" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/dress_color-2xl.webp 1920w"></a>XKCD #1492</p><p>(If you do want or need to adjust the color in a video signal, you'll need a <strong><em>processing amplifier</em></strong>.)</p><h2>Pixel Perfect: Further Reading on Color</h2><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/Jab-subsampling-visualized.jpg"><figure class="aligncenter size-full"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/Jab-subsampling-visualized.jpg" width="600" height="312" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/Jab-subsampling-visualized-2xl.webp 1920w"></figure></a>I've touched on digital video and color here but mostly focused on pre-digital color spaces and systems for audiovisual archivists and others who work with analog video signals. Really, that's because all of this grew out of a desire to figure out what was going on with "uncompressed YUV" codecs and "-pix_fmt yuv420p" ffmpeg flags, and I worked backwards from there until I found my answers in analog engineering.</p><p>There's so much more to get into with color in video, but for today I think I'm going to leave you with some links to explore further.</p><p><em>From the master of pixels, Charles Poynton:</em></p><ul><li><a href="http://www.poynton.ca/notes/colour_and_gamma/ColorFAQ.html">ColorFAQ</a></li><li><a href="http://www.poynton.ca/notes/colour_and_gamma/GammaFAQ.html">GammaFAQ</a></li><li><a href="https://www.elsevier.com/books/digital-video-and-hd/poynton/978-0-12-391926-7"><em>Digital Video and HD, Second Edition </em></a>(a dense textbook, but basically the current authoritative resource on digital video)</li></ul><p>On the subject of <strong><em>chroma subsampling:</em></strong></p><ul><li><a href="https://github.com/leandromoreira/digital_video_introduction#colors-luminance-and-our-eyes">"Colors, Luminance, and Our Eyes"</a> from Leondro Moreira's <a href="https://github.com/leandromoreira/digital_video_introduction">"Digital Video Introduction"</a> (a phenomenal introduction/companion to Poynton's textbook)</li><li>the actually relatively understandable <a href="https://en.wikipedia.org/wiki/Chroma_subsampling">Wikipedia</a> entry</li><li><a href="http://www.red.com/learn/red-101/video-chroma-subsampling">http://www.red.com/learn/red-101/video-chroma-subsampling</a> (has some nice interactive demonstrations of subsampling comparison)</li></ul><p>On the subject of <em><strong>other color spaces beyond Y′C<sub>B</sub>C<sub>R</sub></strong></em></p><ul><li><a href="https://avpres.net/openYCoCg/">openYCoCg</a> An experimental video codec from AV Preservation by Reto Kromer, based on the Y′C<sub>O</sub>C<sub>G</sub> color space, which can convert to/from RGB values but isn't based on human vision models (using orange-difference and green-difference instead of the usual blue/red)</li><li>Digital Photography School: <a href="https://digital-photography-school.com/adobe-rgb-versus-srgb-color-space/">sRGB versus Adobe RGB</a></li></ul><p><a href="https://eg-tech.github.io/patch-bay/media/posts/24/color_models.png"><img loading="lazy" src="https://eg-tech.github.io/patch-bay/media/posts/24/color_models.png" alt="" width="511" height="641" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-xs.webp 640w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-sm.webp 768w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-md.webp 1024w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-lg.webp 1366w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-xl.webp 1600w, https://eg-tech.github.io/patch-bay/media/posts/24/responsive/color_models-2xl.webp 1920w"></a>XKCD #1882</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on November 9, 2024</p><div class="content__actions"><ul class="content__tag"><li><a href="https://eg-tech.github.io/patch-bay/tags/video-preservation/">Video Preservation</a></li></ul><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://eg-tech.github.io/patch-bay/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://eg-tech.github.io/patch-bay/authors/ethan/" rel="author">Ethan</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://eg-tech.github.io/patch-bay/doing-digipres-with-windows/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://eg-tech.github.io/patch-bay/media/posts/21/responsive/windows-logo-xs.webp" class="lazyload" loading="lazy" alt="" height="900" width="900"></figure><div><span>Previous</span> Doing DigiPres with Windows</div></a></div><div class="content__nav-next"><a href="https://eg-tech.github.io/patch-bay/everyday-linux/" class="content__nav-link" rel="next"><div><span>Next</span> Everyday Linux</div><figure class="content__nav-image"><img src="https://eg-tech.github.io/patch-bay/media/posts/26/responsive/zTqvA5v-xs.webp" class="lazyload" loading="lazy" alt="" height="1200" width="1200"></figure></a></div></div></div></nav></footer></article></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://eg-tech.github.io/patch-bay/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://eg-tech.github.io/patch-bay/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>